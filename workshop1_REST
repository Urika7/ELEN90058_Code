
#include <stdio.h>
#include <math.h>

// Globals
#define N	256
#define	PI	3.1415

float x1[N];
float x2[N];
float x[N];
float y[N];
float y2[N];
float y_down[N];

int main(void)
{
	int i;
	float omega1 = 0.35 * PI, omega2 = 2.1 * PI;
	float T = 0.25;
	float a = 0.1;
	float alpha = 0.919968;
	x[0] = 0;
	y[0] = 0;
	x1[0] = 0;
	x2[0] = 0;
	y2[0] =0;

	for (i = 1; i < N; i++)
	{
	x1[i] = expf(-a*i)* cosf((float)omega1 * T * i);
	x2[i] = 0.1*sinf(omega2*i*T);
	x[i] = x1[i]+x2[i];
	y[i] = 0.5*((1-alpha)*x2[i]+(1-alpha)*x2[i-1] +2*alpha*y[i-1]);
	y2[i] = 0.5*((1-alpha)*y[i]+(1-alpha)*y[i-1] +2*alpha*y2[i-1]);
	}

	for (i = 0; i < N/4; i++){
		y_down[i] = 800*y2[4*i];
	}

//	for (i = 0; i < N; i++)
//	{
//		printf("x[%d] = %f\n", i, x[i]);
//	}

printf("Done.\n");

	return 0;
}

